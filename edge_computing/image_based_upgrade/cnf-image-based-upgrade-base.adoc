:_mod-docs-content-type: ASSEMBLY
[id="cnf-image-based-upgrade-for-sno"]
= Performing an image-based upgrade for {sno} clusters
include::_attributes/common-attributes.adoc[]
:context: cnf-image-based-upgrade

toc::[]

The {lcao} allows you to perform an image-based upgrade on your {sno} clusters manually or through {rh-rhacm}.

When you deploy the {lcao} on a cluster, an `ImageBasedUpgrade` CR is automatically created.
You edit this CR to specify the image repository of the seed image and to move through the different stages.

[IMPORTANT]
====
During the Developer Preview of this feature, when upgrading a cluster, any custom trusted certificates configured on the cluster will be lost. As a temporary workaround, to preserve these certificates, you must use a seed image from a seed cluster that trusts the certificates.
====

:FeatureName: The Lifecycle Agent

//include::modules/ztp-image-based-upgrade-creating-backup-resources.adoc[leveloffset=+1]

include::modules/cnf-image-based-upgrade-prep.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:../backup_and_restore/application_backup_and_restore/installing/installing-oadp-ocs.adoc#oadp-about-backup-snapshot-locations_installing-oadp-ocs[About backup and snapshot locations and their secrets]

* xref:../backup_and_restore/application_backup_and_restore/backing_up_and_restoring/oadp-creating-backup-cr.adoc[Creating a Backup CR]

* xref:../backup_and_restore/application_backup_and_restore/backing_up_and_restoring/restoring-applications.adoc#oadp-creating-restore-cr_restoring-applications[Creating a Restore CR]

* xref:../edge_computing/cnf-image-based-upgrade.adoc#ztp-image-based-upgrade-shared-container-directory_understanding-image-based-upgrade[Sharing the container directory between `ostree` stateroots]

include::modules/cnf-image-based-upgrade-with-backup.adoc[leveloffset=+1]

include::modules/cnf-image-based-upgrade-rollback.adoc[leveloffset=+1]

include::modules/cnf-image-based-upgrade-troubleshooting.adoc[leveloffset=+1]