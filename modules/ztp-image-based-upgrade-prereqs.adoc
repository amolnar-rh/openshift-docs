// Module included in the following assemblies:
// * scalability_and_performance/ztp-image-based-upgrade.adoc

:_mod-docs-content-type: CONCEPT
[id="ztp-image-based-upgrade-prereqs_{context}"]
= Limitations and prerequisites

For a successful image-based upgrade, your deployments need to meet certain conditions.

[id="ztp-image-based-upgrade-cluster-limitations_{context}"]
== Deployment limitations

You can use the image-based upgrade with the following deployments:

* Using {rh-rhacm} only
* Using GitOps ZTP

[id="ztp-image-based-upgrade-cluster-prereqs_{context}"]
== Cluster prerequisites

The participating clusters have common prerequisites that must be fulfilled on both the seed and target clusters to complete a successful upgrade. These common prerequisites are the following:
//rewrite

* They are {sno} clusters.
* They have the same tuned performance configuration (for example, CPU topology).
* They have the same hardware configuration.
* They have the same IP version.
+
[NOTE]
====
Dual-stack networking is not supported in this release.
====

* They have proxy configuration.
+
[NOTE]
====
The proxy configuration does not have to be the same.
====

* They have a separate partition for the container images that are shared between stateroots.
//link to section
* They have a compatible version of {lcao} deployed.
* They have a compatible version of OADP Operator deployed.
* If the target cluster has multiple IPs and one of them belongs to the subnet that was used for creating the seed image, the upgrade fails if the target cluster's node IP does not belong to that subnet.